webpackJsonp_name_([31],{3:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),c=n(5),f=function(e){function t(){return l(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentDidMount=function(){window.prettyPrint(null,(0,c.findDOMNode)(this.code))},t.prototype.render=function(){var e=this.props.children.split("\n").filter(function(e){return e.length>0}),t=e[0]?/^(\s*)/.exec(e[0])[1].length:0,n=new RegExp("^(\\s{"+t+"})");return e=e.map(function(e){return e.replace(n,"")}),u.default.createElement("div",{className:"code"},u.default.createElement("pre",{className:"prettyprint"},e.join("\n")))},t}(s.Component);f.propTypes={children:s.PropTypes.string},f.defaultProps={children:""},t.default=f},4:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var l=n(1),a=r(l),o=n(2),s=r(o),u=function(e){return a.default.createElement("div",{className:(0,s.default)("docs-example",e.className)},e.children)};u.propTypes={children:l.PropTypes.any,className:l.PropTypes.string},e.exports=u},141:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),u=r(s),c=n(3),f=r(c),d=n(4),i=r(d),m=n(24),h=r(m),p=n(9),E=n(10),b=h.default.create({promise:function(e){return e.then(function(e){return e.success?e.list:new Error(e.message)})}});e.exports=function(e){function t(){return l(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){return u.default.createElement("div",null,u.default.createElement("div",{className:"header"},u.default.createElement("h1",null,"Fetch"),u.default.createElement(E.Cn,{tag:"h2"},"数据")),u.default.createElement("div",{className:"content"},u.default.createElement(E.Cn,null,u.default.createElement("ul",null,u.default.createElement("li",null,"Fetch 是一个高阶组件，通过增加一个fetch属性，提供给Select, CheckboxGroup, RadioGroup, Table, Tree等组件获取服务端数据的能力。替代早期版本的DataSource。"),u.default.createElement("li",null,"这些组件可以不使用fetch，通过data传入数据，当作一个Dumb组件使用。"),u.default.createElement("li",null,"服务端交互部分使用了另外封装的一个工具，",u.default.createElement("a",{href:"https://github.com/Lobos/refetch",target:"_blank"},"Refetch")))),u.default.createElement(E.En,null,"Fetch is a higherorder Component, fetch remote data from server for dumb component, like Select, CheckboxGroup, RadioGroup, Table, Tree..."),u.default.createElement("h2",{className:"subhead"},"Fetch Config"),u.default.createElement(E.Cn,null,"第一种用法，传入和Refetch对应的config"),u.default.createElement(E.Cn,null,u.default.createElement(f.default,null,"fetch = {\n    url: string\n    method: get,post,delete,put,jsonp 默认为 get\n    dataType: method 为jsonp时无效。可选值 post (default), json, text, arraybuffer, blob, document, formdata\n    responseType: method 为jsonp时无效。可选值 json (default), text, xml, arraybuffer, blob, document\n    headers: method 为jsonp时无效。object\n    timeout: 毫秒\n    cache: 缓存，单位秒，大于0时有效。使用localStorage做长期缓存，需要注意缓存数据大小。\n    withCredentials: method 为jsonp时无效。是否支持跨域 default false\n    async: method 为jsonp时无效。是否同步 default true\n    delay: 延时处理，单位毫秒，默认为0。\n    then: function 处理服务端返回数据,\n    request: fetch对象，Promise A+ 规范。为空时使用内置的 refetch\n  }")),u.default.createElement(E.En,null,u.default.createElement(f.default,null,"fetch = {\n    url             // string\n    method          // 'get|post|delete|put|jsonp', default is 'get'\n    dataType        // 'post|json|text|arraybuffer|blob|document|formdata', default is post. It's not work when method is 'jsonp'.\n    responseType    // 'json|text|xml|arraybuffer|blob|document', default is json.  It's not work when method is 'jsonp'.\n    headers         // http headers\n    timeout         // ms\n    cache           // second\n    withCredentials // default is false\n    async           // default is true\n    delay           // ms\n    then            // handle callback\n    request         // fetch object, default is Refetch\n  }")),u.default.createElement(i.default,null,u.default.createElement(p.Select,{grid:.25,fetch:{method:"get",url:"./json/select.json",then:function(e){return e.success?e.list:new Error(e.message)}}})),u.default.createElement(f.default,null,"<Select grid={1 / 4}\n  fetch={{\n    method: 'get',\n    url: './json/select.json',\n    then: (res) => {\n      if (res.success) {\n        return res.list\n      } else {\n        return new Error(res.message)\n      }\n    }\n  }} />"),u.default.createElement("h2",{className:"subhead"},"Handle Failure"),u.default.createElement(i.default,null,u.default.createElement(p.Select,{grid:.25,fetch:{method:"get",url:"./json/no-result.json",then:function(e){return e.success?e.list:new Error("Remote data error.")}}})),u.default.createElement(f.default,null,"<Select grid={1 / 4}\n  fetch={{\n    method: 'get',\n    url: './json/no-result.json',\n    then: (res) => {\n      if (res.success) {\n        return res.list\n      } else {\n        return new Error('Remote data error.')\n      }\n    }\n  }} />"),u.default.createElement("h2",{className:"subhead"},"Create a request"),u.default.createElement(f.default,null,"const request = Refetch.create({\n  promise: (f) => f.then((res) => {\n    if (res.success) {\n      return res.list;\n    } else {\n      return new Error(res.message); \n    }\n  })\n});"),u.default.createElement(i.default,null,u.default.createElement(p.Select,{grid:.25,fetch:{request:b,method:"get",url:"./json/select.json"}})),u.default.createElement(f.default,null,"<Select grid={1 / 4}\n  fetch={{\n    request: request,\n    method: 'get',\n    url: './json/select.json'\n  }} />"),u.default.createElement("h2",{className:"subhead"},"Promise"),u.default.createElement(E.Cn,null,"第二种用法，传入一个Promise对象。"),u.default.createElement(f.default,null,"fetch = Refetch.get('/example/url', ...)"),u.default.createElement(i.default,null,u.default.createElement(p.RadioGroup,{fetch:h.default.get("./json/select.json").then(function(e){return e.success?e.list:new Error(e.message)})})),u.default.createElement(f.default,null,"<RadioGroup\n  fetch={\n    Refetch.get('./json/select.json').then((res) => {\n      if (res.success) {\n        return res.list\n      } else {\n        return new Error(res.message)\n      }\n    })\n  }\n/>"),u.default.createElement(E.Cn,null,u.default.createElement("h2",{className:"subhead"},"简单的示意图")),u.default.createElement("div",null,u.default.createElement("img",{src:"./images/fetch.png"}))))},t}(s.Component)}});